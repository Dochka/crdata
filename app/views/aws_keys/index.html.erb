<% content_for(:intro) do %>
	<h1>Manage AWS Keys</h1>
	<p class="solo">Use the interactive interface below to manage your AWS Keys.</p>
<% end -%>

<% content_for(:content) do %>
  <% content_tag(:div, :class => 'table') do %>
    <% content_tag(:div, :class => 'rel') do %>
      <% content_tag(:ul, :class => 'header_actions') do %>
        <%= content_tag(:li, link_to('Add AWS Key', new_aws_key_path, {}, {:class => 'header_actions'})) %>
      <% end %>
    <% end %>
    <% content_tag(:table, :class => 'sdt') do %>
      <% if !@aws_keys.blank? %>
        <% content_tag(:thead) do %>
          <% content_tag(:tr) do %>
            <%= content_tag(:th, 'ID', :class => 'column-head') %>
            <%= content_tag(:th, 'Name', :class => 'column-head') %>
            <%= content_tag(:th, 'Actions', :class => 'column-head') %>
          <% end %>
        <% end %>
        <% content_tag(:tbody, :id => 'table_body') do %>
          <% @aws_keys.each do |aws_key| %>
            <% content_tag(:tr, :class => cycle(' stripe', '')) do %>
              <%= content_tag(:td, link_to(aws_key.id, aws_key)) %>
              <%= content_tag(:td, link_to(aws_key.name, aws_key)) %>
              <%= content_tag(:td, get_aws_key_actions(aws_key), :class => 'actions') %>
            <% end %>
          <% end %>
        <% end %>
      <% else %>
        <%= no_content('Sorry, no aws keys matched your criteria') %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
